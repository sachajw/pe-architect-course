# CCS Unified Configuration
# Docs: https://github.com/kaitranntt/ccs
version: 8

# Default profile used when running 'ccs' without arguments
default: "claude"

# ----------------------------------------------------------------------------
# Accounts: Isolated Claude instances (each with separate auth/sessions)
# Manage with: ccs auth add <name>, ccs auth list, ccs auth remove <name>
# ----------------------------------------------------------------------------
accounts:
  claude:
    created: "2025-12-20T12:05:07.275Z"
    last_used: "2026-02-03T18:37:27.364Z"

# ----------------------------------------------------------------------------
# Profiles: API-based providers (GLM, GLMT, Kimi, custom endpoints)
# Each profile points to a *.settings.json file containing env vars.
# Edit the settings file directly to customize (ANTHROPIC_MAX_TOKENS, etc.)
# ----------------------------------------------------------------------------
profiles:
  glm:
    type: api
    settings: ~/.ccs/glm.settings.json
  glmt:
    type: api
    settings: ~/.ccs/glmt.settings.json
  openrouter:
    type: api
    settings: ~/.ccs/openrouter.settings.json
  zai:
    type: api
    settings: ~/.ccs/zai.settings.json

# ----------------------------------------------------------------------------
# CLIProxy: OAuth-based providers (gemini, codex, agy, qwen, iflow)
# Each variant can reference a *.settings.json file for custom env vars.
# Edit the settings file directly to customize model or other settings.
# ----------------------------------------------------------------------------
cliproxy:
  oauth_accounts: {}
  providers:
    - gemini
    - codex
    - agy
    - qwen
    - iflow
    - kiro
    - ghcp
  variants: {}
  logging:
    enabled: false
    request_log: false
  auto_sync: true

# ----------------------------------------------------------------------------
# CLIProxy Server: Remote proxy connection settings
# Configure via Dashboard (`ccs config`) > Proxy tab.
#
# remote: Connect to a remote CLIProxyAPI instance
# fallback: Use local proxy if remote is unreachable
# local: Local proxy settings (port, auto-start)
# ----------------------------------------------------------------------------
cliproxy_server:
  remote:
    enabled: false
    host: ""
    protocol: http
    auth_token: ""
  fallback:
    enabled: true
    auto_start: false
  local:
    port: 8317
    auto_start: true

# ----------------------------------------------------------------------------
# Preferences: User settings
# ----------------------------------------------------------------------------
preferences:
  theme: system
  telemetry: false
  auto_update: true

# ----------------------------------------------------------------------------
# WebSearch: CLI-based web search for third-party profiles
# Dashboard (`ccs config`) is the source of truth for provider selection.
#
# Third-party providers (gemini, codex, agy, etc.) do not have access to
# Anthropic's WebSearch tool. These CLI tools provide fallback web search.
#
# Fallback chain: Gemini -> OpenCode -> Grok (tries in order until success)
#
# Gemini models: gemini-2.5-flash (default), gemini-2.5-pro, gemini-2.5-flash-lite
# OpenCode models: opencode/grok-code (default), opencode/gpt-4o, opencode/claude-3.5-sonnet
#
# Install commands:
#   gemini: npm i -g @google/gemini-cli (FREE - 1000 req/day)
#   opencode: curl -fsSL https://opencode.ai/install | bash (FREE via Zen)
#   grok: npm i -g @vibe-kit/grok-cli (requires GROK_API_KEY)
# ----------------------------------------------------------------------------
websearch:
  enabled: true
  providers:
    gemini:
      enabled: true
      model: gemini-2.5-flash
      timeout: 55
    opencode:
      enabled: true
      model: opencode/grok-code
      timeout: 90
    grok:
      enabled: true
      timeout: 55

# ----------------------------------------------------------------------------
# Copilot: GitHub Copilot API proxy (via copilot-api)
# Uses your existing GitHub Copilot subscription with Claude Code.
#
# !! DISCLAIMER - USE AT YOUR OWN RISK !!
# This uses an UNOFFICIAL reverse-engineered API.
# Excessive usage may trigger GitHub account restrictions.
# CCS provides NO WARRANTY and accepts NO RESPONSIBILITY for consequences.
#
# Setup: npx copilot-api auth (authenticate with GitHub)
# Usage: ccs copilot (switch to copilot profile)
#
# Models: claude-sonnet-4.5, claude-opus-4.5, gpt-5.1, gemini-2.5-pro
# Account types: individual, business, enterprise
# ----------------------------------------------------------------------------
copilot:
  enabled: true
  auto_start: false
  port: 4141
  account_type: individual
  rate_limit: null
  wait_on_limit: true
  model: gpt-5-mini
  opus_model: gpt-5-mini
  sonnet_model: gpt-5-mini
  haiku_model: gpt-5-mini

# ----------------------------------------------------------------------------
# Global Environment Variables: Injected into all non-Claude subscription profiles
# These env vars disable telemetry/reporting for third-party providers.
# Configure via Dashboard (`ccs config`) > Global Env tab.
#
# Default variables:
#   DISABLE_BUG_COMMAND: Disables /bug command (not supported by proxy)
#   DISABLE_ERROR_REPORTING: Disables error reporting to Anthropic
#   DISABLE_TELEMETRY: Disables usage telemetry
# ----------------------------------------------------------------------------
global_env:
  enabled: true
  env:
    DISABLE_BUG_COMMAND: "1"
    DISABLE_ERROR_REPORTING: "1"
    DISABLE_TELEMETRY: "1"

# ----------------------------------------------------------------------------
# Thinking: Extended thinking/reasoning budget configuration
# Controls reasoning depth for supported providers (agy, gemini, codex).
#
# Modes: auto (use tier_defaults), off (disable), manual (--thinking flag only)
# Levels: minimal (512), low (1K), medium (8K), high (24K), xhigh (32K), auto
# Override: Set global override value (number or level name)
# Provider overrides: Per-provider tier defaults
# ----------------------------------------------------------------------------
thinking:
  mode: auto
  tier_defaults:
    opus: high
    sonnet: medium
    haiku: low
  show_warnings: true

# ----------------------------------------------------------------------------
# Image Analysis: Vision-based analysis for images and PDFs
# Routes Read tool requests for images/PDFs through CLIProxy vision API.
#
# When enabled: Image files trigger vision analysis instead of raw file read
# Provider models: Vision model used for each CLIProxy provider
# Timeout: Maximum seconds to wait for analysis (10-600)
#
# Supported formats: .jpg, .jpeg, .png, .gif, .webp, .heic, .bmp, .tiff, .pdf
# Configure via: ccs config image-analysis
# ----------------------------------------------------------------------------
image_analysis:
  enabled: true
  timeout: 60
  provider_models:
    agy: gemini-2.5-flash
    gemini: gemini-2.5-flash
    codex: gpt-5.1-codex-mini
    kiro: kiro-claude-haiku-4-5
    ghcp: claude-haiku-4.5
    claude: claude-haiku-4-5-20251001
    qwen: vision-model
    iflow: qwen3-vl-plus
